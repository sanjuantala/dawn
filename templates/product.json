/*
 * ------------------------------------------------------------
 * IMPORTANT: The contents of this file are auto-generated.
 *
 * This file may be updated by the Shopify admin theme editor
 * or related systems. Please exercise caution as any changes
 * made to this file may be overwritten.
 * ------------------------------------------------------------
 */
{
  "sections": {
    "main": {
      "type": "main-product",
      "blocks": {
        "vendor": {
          "type": "text",
          "settings": {
            "text": "{{ product.vendor }}",
            "text_style": "uppercase"
          }
        },
        "title": {
          "type": "title",
          "settings": {}
        },
        "subtitle": {
          "type": "text",
          "settings": {
            "text": "{{ product.metafields.descriptors.subtitle.value }}",
            "text_style": "subtitle"
          }
        },
        "price": {
          "type": "price",
          "settings": {}
        },
        "variant_picker": {
          "type": "variant_picker",
          "settings": {
            "picker_type": "button"
          }
        },
        "quantity_selector": {
          "type": "quantity_selector",
          "settings": {}
        },
        "buy_buttons": {
          "type": "buy_buttons",
          "settings": {
            "show_dynamic_checkout": true
          }
        },
        "description": {
          "type": "description",
          "settings": {}
        },
        "share": {
          "type": "share",
          "settings": {
            "share_label": "Share"
          }
        },
        "custom_liquid_3AyeR3": {
          "type": "custom_liquid",
          "settings": {
            "custom_liquid": "dfdddd\n\n{%- assign v = product.selected_or_first_available_variant -%}\n<div id=\"bundle-components\"\n     data-variant-gid=\"{{ v.admin_graphql_api_id | escape }}\"\n     data-product-title=\"{{ product.title | escape }}\">\n  <!-- Bundle contents will render here -->\n</div>\n\n\n<script>\n(function() {\n  const el = document.getElementById('bundle-components');\n  if (!el) return;\n\n  const variantGid = el.getAttribute('data-variant-gid');\n  if (!variantGid) return; // Not a valid variant\n\n  // ðŸ‘‰ Paste your Storefront API public access token here\n  // Admin > Apps > Develop apps > (Your app) > Configuration > Storefront API integration\n  // Ensure it has at least: unauthenticated_read_product_listings\n  const STOREFRONT_TOKEN = 'REPLACE_WITH_YOUR_STOREFRONT_ACCESS_TOKEN';\n\n  // GraphQL query: get components of the selected bundle variant\n  const query = `\n    query BundleParts($id: ID!) {\n      productVariant(id: $id) {\n        id\n        title\n        requiresComponents\n        components(first: 100) {\n          edges {\n            node {\n              quantity\n              productVariant {\n                id\n                title\n                product { title handle }\n                availableForSale\n              }\n            }\n          }\n        }\n      }\n    }\n  `;\n\n  function render(variant) {\n    const edges = variant?.components?.edges || [];\n    if (!edges.length) return; // Not a bundle, or no components\n\n    const list = edges.map(({ node }) => {\n      const pv = node.productVariant;\n      const url = pv?.product?.handle ? (`/products/${pv.product.handle}`) : '#';\n      const vTitle = pv?.title && pv.title !== 'Default Title' ? ` â€” ${pv.title}` : '';\n      const avail = pv?.availableForSale === false ? ' (out of stock)' : '';\n      return `<li class=\"bundle-components__item\">\n                <a href=\"${url}\">${pv?.product?.title || 'Product'}</a>${vTitle} Ã— ${node.quantity}${avail}\n              </li>`;\n    }).join('');\n\n    el.innerHTML = `\n      <section class=\"bundle-components\">\n        <h3>Whatâ€™s inside ${el.getAttribute('data-product-title')}</h3>\n        <ul class=\"bundle-components__list\" role=\"list\">${list}</ul>\n      </section>\n    `;\n  }\n\n  fetch('/api/2024-07/graphql.json', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      'X-Shopify-Storefront-Access-Token': STOREFRONT_TOKEN\n    },\n    body: JSON.stringify({ query, variables: { id: variantGid } })\n  })\n  .then(r => r.json())\n  .then(({ data, errors }) => {\n    if (errors) { console.warn('Bundle query errors', errors); return; }\n    render(data.productVariant);\n  })\n  .catch(err => console.error('Bundle fetch failed', err));\n})();\n</script>"
          }
        }
      },
      "block_order": [
        "vendor",
        "title",
        "subtitle",
        "price",
        "variant_picker",
        "quantity_selector",
        "buy_buttons",
        "description",
        "share",
        "custom_liquid_3AyeR3"
      ],
      "settings": {
        "enable_sticky_info": true,
        "hide_variants": false,
        "enable_video_looping": false
      }
    },
    "product-recommendations": {
      "type": "product-recommendations",
      "disabled": true,
      "settings": {
        "heading": "You may also like",
        "image_ratio": "adapt",
        "show_secondary_image": false,
        "add_image_padding": false,
        "show_image_outline": true,
        "show_vendor": false,
        "show_rating": false
      }
    }
  },
  "order": [
    "main",
    "product-recommendations"
  ]
}
